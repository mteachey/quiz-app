const QSAS = [
    
    { 
     question : 'Sanskrit is the classical Indian language still used in yoga to define poses and practices. What is the sanskrit word for pose?',
     answerOne : 'om',
     answerTwo : 'asana',
     answerThree : 'cow',
     answerFour : 'dharma',
     correctAnswer : 2,
     correctAnswerCopy : 'Asana is the Sanskirt word for pose or literally, seat. This meaning is reflected in the fact that the Sanskrit words for individual yoga poses always include the suffix \"asana\" - for example, the Sanskrit word for the Lotus pose is Padmasana. Because asana means \"seat\" in Sanskrit, experts believe that the first yoga asanas were simple seated positions that were held for long periods of time in order to facilitate meditation.',
     imgSrc : 'http://paintedskycreative.com/_external-images/EF/asana-sanskirt-300x300.jpg',
     imgAlt : 'image of sanskirt word',
    },
    { 
     question : 'At the end of many yoga classes, teachers close with the word \'namaste\' and then the whole class repeats \'namaste\' back to him or her. What does \'namaste\' mean? ',
     answerOne : 'get out!',
     answerTwo : 'peace be with you',
     answerThree : 'use the force',
     answerFour : 'the divine light within me salutes the divine light within you',
     correctAnswer : 4,
     correctAnswerCopy : 'Namaste means - \'the divine light within me salutes the divine light within you\'. The literal translation of the word \'Namaste\' breaks down into three sections...Nama means bow; as means I; and, te means you. Thus, I bow to you. The gesture is one of greeting in India. Most often we hold our hands together in the prayer position at our heart chakra when saying it.',
     imgSrc : 'http://paintedskycreative.com/_external-images/EF/buddha-light-300x300.jpg',
     imgAlt : 'image of silhouette of a buddha with light shining from his center',
    },
    { 
        question : 'How many classic yoga poses are there?',
        answerOne : '1',
        answerTwo : '84',
        answerThree : '101',
        answerFour : 'yogis don\'t count, they just are',
        correctAnswer : 2,
        correctAnswerCopy : 'There are 84 classic yoga asanas or poses. To put it simply, early yogis thought embodied life was full of suffering and the goal was to escape it. Sometime around the fourth to sixth centuries CE, the insight took hold that if there is only Spirit, then all of creation, including the human body, is a manifestation of Spirit and therefore sacred. They viewed the body as a dwelling place of the Divine and as the cauldron for accomplishing spiritual perfection. The stage was set for Hatha Yoga. A system that includes the practice of asanas (yoga postures) and pranayama (breathing exercises), which help bring peace to the mind and body, preparing the body for deeper spiritual practices such as meditation.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/pretzel-pose-300x300.jpg',
        imgAlt : 'image of a pretzel',
       },
       { 
        question : 'Who the heck is Ganesh?',
        answerOne : 'buddha dressed up as an elephant',
        answerTwo : 'The god of compassion, tenderness, and love. The personification of divine love and joy',
        answerThree : 'The Goddess of love and good fortune. She is is perhaps the most sought-after deity throughout the world. She is called upon for harmony in relationships, wealth, beauty, power, fame, royalty, recognition, and regal grace.',
        answerFour : 'The remover of obstacles, the patron of arts and sciences and the deva of intellect and wisdom. The god of beginnings',
        correctAnswer : 4,
        correctAnswerCopy : 'Although he is known by many attributes, Ganesha\'s elephant head makes him easy to identify. Ganesha is widely revered as the remover of obstacles, the patron of arts and sciences and the deva of intellect and wisdom. As the god of beginnings, he is honoured at the start of rites and ceremonies.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/ganesh-300x300.jpg',
        imgAlt : 'image of a Ganesh',
       },
       { 
        question : 'What pose is pictured above?',
        answerOne : 'tree pose or Vrikshasana',
        answerTwo : 'boat pose or Navasana ',
        answerThree : 'pigeon pose or Kapotasana',
        answerFour : 'mountain pose or Tadasana',
        correctAnswer : 1,
        correctAnswerCopy : 'Tree Pose stretches the thighs, groins, torso, and shoulders. It builds strength in the ankles and calves, and tones the abdominal muscles. The pose also helps to remedy flat feet and is therapeutic for sciatica. Tree Pose improves your sense of balance and coordination. Regular practice will improve your focus and your ability to concentrate in all areas of your life, particularly during those times when you might normally feel \'off-balance.\' This pose has a positive impact on the grace and ease with which you approach all circumstances, even outside of your yoga class. It teaches the benefits of a meditative state of mind, and is a gentle reminder that you can bring calm focus and clear-headedness to all situations, not just when you are practicing a seated meditation.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/tree-pose-300x300.jpg',
        imgAlt : 'image of a silhouette of a person standing, with one knee bent and resting on the inside of the upper calf of the other lef and hand reached over head and touching',
       },
       { 
        question : 'What are some benefits of pigeon pose pictured above?',
        answerOne : 'This pose tones the abdominal muscles while strengthening the low back. This pose helps relieve stress and improves digestion',
        answerTwo : 'Physically, this pose stretches the hip flexors, opens gluteus minimus and maximus, and relaxes the piriformis and psoas muscles. Internally, it stimulates the abdominal organs and aids in digestion. Mentally, this pose challenges our ability to sit with uncomfortable situations.',
        answerThree : 'This pose helps strengthen the shoulder muscles, spine and legs, and at the same time, it increases the flexibility in the shoulders, hips, legs and feet. Practicing this pose will stretch out your body and increase your core strength. Improves focus, balance and stability.Energizes the entire body',
        answerFour : 'This pose helps you fly like a bird and gives you a liking to parks',
        correctAnswer : 2,
        correctAnswerCopy : 'Pigeon pose stretches the hip flexors, opens gluteus minimus and maximus, and relaxes the piriformis and psoas muscles. Internally, it stimulates the abdominal organs and aids in digestion. Mentally, this pose challenges our ability to sit with uncomfortable situations.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/pigeon-pose-300x300.jpg',
        imgAlt : 'image of a silhouette of a person in pigeon pose',
       },
       { 
        question : 'What is the name of the pose shown above?',
        answerOne : 'dancer or Natarajasana',
        answerTwo : 'boat pose or Navasana',
        answerThree : 'mountain pose or Tadasana',
        answerFour : 'tree pose or Vrikshasana (you are lost in your monkey mind if you pick this one)',
        correctAnswer : 1,
        correctAnswerCopy : 'Dancer pose or Natarajasana requires and builds full-body strength, flexibility, and coordination. It opens the shoulders, chest, and hips, as it stretches and strengthens the thighs, ankles, and abdomen. This pose develops greater flexibility in your spine, shoulders, and hamstrings. It also stretches the entire front of the body, while strengthening the back muscles, which improves posture. Most notably, Dancer improves your ability to concentrate and focus. By remaining calm while balancing and back-bending, you will learn how to focus your thoughts. This will improve your poise and grace in everyday life.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/dancer-300x300.png',
        imgAlt : 'image of a silhouette of a person standing on one leg but leaned forward with the other leg bent and raised behind them.',
       },
       { 
        question : 'What is the name of the pose shown above?',
        answerOne : 'boat pose or Navasana',
        answerTwo : 'mountain pose or Tadasana',
        answerThree : 'warrior II pose or Virabhadrasana II',
        answerFour : 'tree pose or Vrikshasana (you are lost in your monkey mind if you pick this one)',
        correctAnswer : 3,
        correctAnswerCopy : 'Warrior II or Virabhadrasana II (veer-uh-buh-DRAHS-uh-nuh) is a powerful stretch for the legs, groins, and chest. Virabhadrasana II also increases stamina. It helps to relieve backaches, and stimulates healthy digestion. This is a deep hip-opening pose that strengthens the muscles in the thighs and buttocks. It tones the abdomen, ankles, and arches of the feet. This pose also opens the chest and shoulders, improving breathing capacity and increasing circulation throughout the body. It is also known to be therapeutic for flat feet, sciatica, infertility, and osteoporosis. More than just a physical posture, Warrior II increases your ability to concentrate. As you hone your gaze, you direct your mind clearly and with intention. Distractions disappear and your energy becomes powerful and focused.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/warrior-300x300.jpg',
        imgAlt : 'image of a silhouette of a person standing with one leg bent to 90degrees in front of them the other leg straight behind them. Their hands are rasied horizontally in Tee, with the bent leg corresponding arm facing forward and the other arm facing back. The body is turned to the side and the head is looking over the forward arm',
       },
       { 
        question : 'Who can practice yoga?',
        answerOne : 'only yogis',
        answerTwo : 'only very fit people',
        answerThree : 'only very fit people who have calm minds',
        answerFour : 'anyone and everyone',
        correctAnswer : 4,
        correctAnswerCopy : 'Anyone and everyone can practice yoga. There isn\'t one way to do yoga. You always bring to the mat, meditation cushion, and each moment exactly where you are and what you have in that moment.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/people-300x300.png',
        imgAlt : 'image of a silhouette of a person standing with one leg bent to 90degrees in front of them the other leg straight behind them. Their hands are rasied horizontally in Tee, with the bent leg corresponding arm facing forward and the other arm facing back. The body is turned to the side and the head is looking over the forward arm',
       },
       { 
        question : 'What is the ultimate goal of yoga?',
        answerOne : 'liberation from worldly suffering',
        answerTwo : 'a kick ass hand-stand',
        answerThree : 'being able to fold yourself into a pretzel',
        answerFour : 'the desire to live in a cave meditating all day',
        correctAnswer : 1,
        correctAnswerCopy : 'Yoga is not about being able to fold yourself into a pretzel or wanting to live like a hermatic monk in a cave somewhere. Yoga\'s goal is to liberate oneself from worldly suffering.  The Sanskirt  word yoga means to yoke or bind, and is often interpreted as \'union\'. The union of the individual soul with God.  Yoga is \'the progressive quieting of the fluctuations of the mind.\' Through dedicated practice and the cultivation of detachment, you can stop identifying with the thoughts, feelings, and sensations that can cause you so much emotional pain (suffering), and  open to an experience of one\'s true self.',
        imgSrc : 'http://paintedskycreative.com/_external-images/EF/ultimate-buddha-300x300.jpg',
        imgAlt : 'image of a silhouette of a person standing with one leg bent to 90degrees in front of them the other leg straight behind them. Their hands are rasied horizontally in Tee, with the bent leg corresponding arm facing forward and the other arm facing back. The body is turned to the side and the head is looking over the forward arm',
       },
    

]

const countScore = {
    count : 0,
    score : 0, 
    index: 0,
    nextTypeOfPage : 'question',
}

/************Rendering Functions************/
function displayScoreProgress(){
    console.log('`displayScoreProgress` ran');
    return `
     <div class="your-progress">
       <p>Question: <span class="question-count">${countScore.count} </span>of 10</p>
     </div>
     <div class="your-score">
       <p>Score: <span class="current-score">${countScore.score} </span>out of <span class="question-count">10</span></p>
    </div>`;

}

function renderStartPage(){
    $('header').removeClass('js-intro-toggle__display');
    $('.start-button-label').text('Begin');   
    //display first image in header
    $('.begin-button').removeClass('js-intro-toggle__display');
    $('.intro-image').removeClass("js-intro-toggle__display");     
    //display correct score and count and insert that HTML into the DOM after header
    const currentProgress = displayScoreProgress();
    $('.progress-section').removeClass('js-intro-toggle__display');
    $('.progress-section').html(currentProgress);
    $('.content-container').html('');
    
    console.log('`renderStartPage` ran');
};

function renderQuestionItem(){
    console.log('`renderQuestionItem` ran');
    return `
     <img alt="${QSAS[countScore.index].imgAlt}" class="question-image" src="${QSAS[countScore.index].imgSrc}" />
     <form class="question-form">
           <fieldset role="radiogroup">   
               <legend class="question">Q${countScore.count}: ${QSAS[countScore.index].question}</legend>
               <input type="radio" id="q1answer1" name="answer1" value="1">
               <label for="q1answer1">${QSAS[countScore.index].answerOne}</label>
               <br>
               <input type="radio" id="q1answer2" name="answer1" value="2"> 
               <label for="q1answer2">${QSAS[countScore.index].answerTwo}</label>
               <br>
               <input type="radio" id="q1answer3" name="answer1" value="3"> 
               <label for="q1answer3">${QSAS[countScore.index].answerThree}</label>
               <br>
               <input type="radio" id="q1answer4" name="answer1" value="4"> 
               <label for="q1answer4">${QSAS[countScore.index].answerFour}</label>
               <br>
               <button type="submit">Seek the Truth</button>
           </fieldset>
       </form>`;
    
};

function renderQuestionPage(){
  //display correct score and count and insert that HTML into the DOM after header
  const currentProgress = displayScoreProgress();
  $('.progress-section').html(currentProgress);
  $('.begin-button').addClass('js-intro-toggle__display');
  $('.intro-image').addClass('js-intro-toggle__display');
  const question =  renderQuestionItem(QSAS);
  $('.content-container').html(question);
    
}; 


function renderAnswerItem(answerInput){
    console.log('`renderAnswerItem` ran');
    if (answerInput){
        gradedAnswer = 'Yes, you got it right! Don\'t let it strengthen your ego though.<br> Enjoy it and then let it go.';
        imgAnswerSrc="http://paintedskycreative.com/_external-images/EF/right-answer-yogi.jpg";
        imgAnswerAlt = "happy yogi";
        divClassHinge = 'animated-fade-out fade-out';
        divClassUp ='animated-up up';
    }
    else {
        gradedAnswer = 'No, you didn\'t get this one, but breathe deep and move on.<br>Live in the moment.';
        imgAnswerSrc="http://paintedskycreative.com/_external-images/EF/wrong-answer-not-a-yogi.jpg";
        imgAnswerAlt = "stressed out person";
        divClassHinge = 'animated hinge';
        divClassUp ='animated-up up';
     }

    return `
    <div role="region" aria-label="Did you get the question correct?" class="right-wrong-section ${divClassHinge}">
     <img alt="${imgAnswerAlt}" class="question-image" src="${imgAnswerSrc}" />
        <p class="graded-answer text-align-center ">${gradedAnswer}</p>
    </div>                    
     <img alt="${QSAS[countScore.index].imgAlt}" class="question-image ${divClassUp}" src="${QSAS[countScore.index].imgSrc}" />
     <p class="${divClassUp}">${QSAS[countScore.index].correctAnswerCopy}</p>
     <button class="next-question-button ${divClassUp}">
          <span class="button-label">Next</span>
     </button>
     `;   
};

function renderAnswerPage(correct){
    //display correct score and count and insert that HTML into the DOM after header
    const currentProgress = displayScoreProgress();
    $('.progress-section').html(currentProgress);
    const question =  renderAnswerItem(correct);
    $('.content-container').html(question);
    console.log(`renderAnswerpage ran`);
}; 

function renderLastInfo(finalScore){
    console.log('`renderLastPage` ran');
    let finalImgSrc = '';
    let finalImgAlt = '';
    let finalCopy = '';
    let finalheading ='';   
    if (finalScore > 5 ){
        finalHeading = 'You are a Yogi!';
        finalImgSrc = 'http://paintedskycreative.com/_external-images/EF/ultimate-buddha-300x300.jpg';
        finalImgAlt = 'image of a meditating, peaceful monk or buddha';
        finalCopy = 'Don\'t let it strengthen your ego though. Now go meditate or do warrior pose.';
        }
     else{
        finalHeading = 'Have you thought about meditating?';
        finalImgSrc = 'http://paintedskycreative.com/_external-images/EF/wrong-answer-not-a-yogi.jpg';
        finalImgAlt = 'image of a stressed out person';
        finalCopy = 'Breathe deep. <br> Go meditate for 5 minutes - remember - anyone and everyone can do yoga&hellip;you may need it.';
        } 
    return `
    <div class="heading" role="region" aria-label="Your final score" >
       <img alt="${finalImgAlt}" src="${finalImgSrc}" >
        <p class="text-align-center">You got ${countScore.score} correct out of ${countScore.count}</p>
        <h1 class="margin-bottom-small ">${finalHeading}</h1>
        <p class="graded-answer text-align-center">${finalCopy}</p>
    </div>                
    <button class="start-over-button">
        <span class="button-label">Start Over</span>
    </button>
    `;   
}

function renderLastPage(){
  //display correct score and count and insert that HTML into the DOM after header
  
  $('header').addClass('js-intro-toggle__display');
  $('.progress-section').addClass('js-intro-toggle__display');
  const finalSay =  renderLastInfo(countScore.score);
  $('.content-container').html(finalSay);
   console.log(`renderLastPage ran`);   
};


function renderPage(correct) {
    // this function will be responsible for rendering the correct question page in the DOM
    
    if (countScore.count === 0){ 
        renderStartPage();     
    } 
    else if(countScore.nextTypeOfPage === 'question'){
       renderQuestionPage();     
    }  
    else if(countScore.nextTypeOfPage === 'answer'){
        renderAnswerPage(correct);  }
    else if (countScore.nextTypeOfPage === 'lastPage'){
       renderLastPage();  
    }
        console.log('`renderPage` ran');
    }


/************END Rendering Functions************/

function scrollToProgress(){
    $('html, body').animate(
            {
              scrollTop: $('.progress-section').offset().top,
            },
            500,
            'linear'
    )
}

function scrollToTop(){
    $('html, body').animate(
            {
              scrollTop: $('.heading').offset().top,
            },
            500,
            'linear'
    )
}

function noSkipProgress(answerValue){
    if(answerValue){
        let gradedAnswer = gradeAnswer(answerValue);      
        if (gradedAnswer === true){
            scoreProgress();
        }      
        countScore.nextTypeOfPage = 'answer';      
        renderPage(gradedAnswer);       
        scrollToProgress();        
    }
    else {alert('Please select a choice');console.log(`nope ${answerValue}`)}  
}

function handleAnswerSubmit(){
        $('.content-container').on('submit', '.question-form', function(event) {
        event.preventDefault();

            const answerValue = $('input[name=answer1]:checked', 
            '.question-form').val();     
            noSkipProgress(answerValue);    
       });
    console.log('`handleAnswerSubmit` ran');
}

function handleStart(){
    $('header').on('click', '.begin-button', function(event) {
        countScore.count++;
        countScore.nextTypeOfPage = 'question';
        renderPage();                 
      });     
      console.log('`handleStart` ran');
}

function handleNextTypeOfPage(numberOfQuestions){
    if ((countScore.count) === (numberOfQuestions + 1))    
    {countScore.nextTypeOfPage = 'lastPage';}           
    else{countScore.nextTypeOfPage = 'question';}
}

function handleNext(){
    let numberOfQuestions = QSAS.length ;    
    $('.content-container').on('click', '.next-question-button', function(event) {
        questionProgress();
        handleNextTypeOfPage(numberOfQuestions);
        renderPage();             
      });
      console.log('`handleNext` ran');
}

function resetValues(){
    countScore.count = 0;
    countScore.index = 0;
    countScore.score = 0;
    countScore.nextTypeOfPage = 'startPage'; 
}

function handleLastPage(){
    let numberOfQuestions = QSAS.length;    
    $('.content-container').on('click', '.start-over-button', function(event) {
        resetValues(); 
        scrollToTop();    
        renderPage();             
      });
      console.log('`handlelastPage` ran');
}

//console.log(QSAS[countScore.index].correctAnswer);
function gradeAnswer(guess){
    console.log('`gradeAnswer` ran');
    if (QSAS[countScore.index].correctAnswer == guess){
        return true;
    }
    else {
        return false;
    }      
}

//Keeps track of score 
function scoreProgress(){
    countScore.score++;
    console.log('`scoreProgress` ran');
}

//Keep track of question you are on 
function questionProgress(){
    //when submit button is submitted (return or enter), adds one to countScore.count
    countScore.count++;
    countScore.index++;
    console.log('`questionProgress` ran');
}


function handleQuiz() {   
    scrollToProgress(); 
    scrollToTop();
    displayScoreProgress();
    questionProgress();
    scoreProgress();
    gradeAnswer();
    renderQuestionItem();
    renderQuestionPage();
    renderStartPage();
    renderAnswerItem();
    renderAnswerPage();
    renderLastInfo();
    renderLastPage();
    handleNext();
    handleAnswerSubmit();
    handleNextTypeOfPage();
    handleLastPage();
    handleStart();
    resetValues();
    renderPage();
  }
  
  // when the page loads, call `handleQuiz`
  $(handleQuiz);
